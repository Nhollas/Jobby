@using Jobby.Client.ViewModels.Dashboard;
@model DashboardViewModel
@{
    Layout = "_Layout";
    ViewData["Title"] = "Dashboard";
}

<section class="p-8 flex flex-col gap-y-4 relative h-full">
    <h1 class="text-2xl font-semibold uppercase">Dashboard</h1>
    <div class="flex flex-col gap-y-12">
        <div class="w-full flex flex-row gap-x-4 border-b-1 border-gray-900 pb-4">
            <h2 class="text-lg font-medium w-full mr-auto">Owned Boards</h2>
            <button class="btn-primary w-full max-w-[16rem] cursor-pointer py-2 create-board-btn">Create Board</button>
        </div>
        <div class="w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
            @foreach (var item in Model.Boards)
            {
                <div class="bg-gray-50 border-1 border-gray-900 w-full relative cursor-pointer">
                    <div class="absolute right-0 top-0 py-2 pr-2 h-full grid grid-rows-2 gap-y-2 items-center justify-center border-gray-900">
                        <button
                            data-board-id="@item.Id" 
                            data-board-name="@item.Name" 
                            class="update-board-btn text-sm rounded-full px-4 py-1 font-semibold border-1 border-main-orange bg-orange-100">
                            Edit
                        </button>
                        <button
                            data-board-id="@item.Id" 
                            data-board-name="@item.Name" 
                            class="delete-board-btn text-sm rounded-full px-4 py-1 font-semibold border-1 border-main-red bg-red-100">
                            Delete
                        </button>
                    </div>
                    <a asp-action="ViewBoard" asp-controller="Board" asp-route-boardId="@item.Id">
                        <div class="flex flex-col p-4 pr-14">
                            <p class="text-lg font-medium text-ellipsis overflow-hidden ... whitespace-nowrap">@item.Name</p>
                            <p class="text-sm">Created: @item.FormatedCreatedDate</p>
                        </div>
                    </a>
                </div>
            }
        </div>
        <h2 class="text-lg font-medium w-full self-end border-b-1 border-gray-900 pb-4">Boards Shared With Me (Coming Soon)</h2>
        <p class="w-max bg-gray-50 border-1 border-gray-900 p-4 -mt-6">Check out our roadmap for the project at <a href="https://github.com/Nhollas/Jobby" class="underline text-main-blue">Github</a>.</p>
    </div>

    <div id="update-board-partial" class="absolute inset-0 bg-gray-50/90 hidden flex justify-center"></div>
    <div id="delete-board-partial" class="absolute inset-0 bg-gray-50/90 hidden flex justify-center"></div>
    <div id="create-board-partial" class="absolute inset-0 bg-gray-50/90 hidden flex justify-center">
        <partial name="~/Views/Board/_CreateBoardPartial.cshtml" model="Model.BoardToCreate" />
    </div>
</section>